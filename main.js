(()=>{var e={341:e=>{e.exports=function(){const e=document.querySelector("main");function t(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function n(){return document.querySelector(".ship-placing")}function r(e,t){let n=document.querySelectorAll(`[data-x="${e}"]`),r=Array.from(n);for(let e=0;e<r.length;e++)if(r[e].dataset.y==t)return r[e]}return{loadStartScreen:function(t){let n=document.createElement("h2"),r=document.createElement("input"),a=document.createElement("button");n.textContent="Enter Player Name:",r.type="text",r.id="player-name-input",a.id="start-game-button",a.textContent="Start Game",e.appendChild(n),e.appendChild(r),e.appendChild(a),t(a)},fadeIn:function(t){let n=0;e.style.opacity=n;let r=setInterval((()=>{n>=1&&clearInterval(r),n+=.05,e.style.opacity=n}),50)},fadeInLogo:function(){const e=document.querySelector("header");let t=0;e.style.opacity=t;let n=setInterval((()=>{t>=1&&clearInterval(n),t+=.05,e.style.opacity=t}),50)},fadeOut:function(t){let n=1;e.style.opacity=n;let r=setInterval((()=>{n<=0&&(clearInterval(r),t()),n-=.05,e.style.opacity=n}),50)},loadGameScreen:function(n,r,a){let c=document.querySelector("#player-name-input").value;t(e);let i=document.createElement("div");i.classList.add("game-container");let l=document.createElement("div");l.classList.add("info-container"),i.appendChild(l),e.appendChild(i),function(e,n,r){const a=document.querySelector(".info-container");t("infoContainer");let c=document.createElement("h2");c.textContent="Place your carrier (drag and drop)";let i=document.createElement("img");i.src="images/ShipCarrierHull.png",i.draggable="true",i.classList.add("ship-placing"),i.dataset.length=5,a.appendChild(c),a.appendChild(i),e(i)}(r),function(e){const t=document.querySelector(".game-container");let n=document.createElement("div");n.classList.add("grid");for(let t=10;t>0;t--)for(let r=1;r<11;r++){let a=document.createElement("div");a.classList.add("tile"),a.dataset.x=r,a.dataset.y=t,e(a),n.appendChild(a)}t.appendChild(n)}(a),n(c)},getCurrentShip:n,placementIsVertical:function(){return!0},getTile:r,placeShipOnGrid:function(e,t,a){let c=new Image;c.src=n().src;let i=r(e,t);c.classList.add("centered-ship"),i.appendChild(c)}}}},529:(e,t,n)=>{const r=n(922);e.exports=function(){const e=[];function t(t,a,c,i){return!!n(t,a,c,i)&&(e.push(r(t,a,c,i)),!0)}function n(e,t,n,r){if(r){if(Number(e)+Number(n)>11)return!1;for(let r=n;r<e+n;r++)if(!a(t,r))return!1}else{if(Number(e)+Number(t)>11)return!1;for(let r=t;r<e+t;r++)if(!a(r,n))return!1}return!0}function a(t,n){for(let r=0;r<e.length;r++)if(!e[r].checkAvailable(t,n))return!1;return!0}return{placeShip:t,receiveAttack:function(t,n){let r=!1;for(let a=0;a<e.length;a++)if(e[a].hit(t,n)){r=!0;break}return r},allSunk:function(){for(let t=0;t<e.length;t++)if(!e[t].isSunk())return!1;return!0},checkAvailable:a,placeShip:t,checkPlaceable:n}}},874:(e,t,n)=>{const r=n(529);e.exports=function(e){const t=r(),n=[];return{getName:function(){return e},attemptPlaceShip:function(e,n,r,a){return t.placeShip(e,n,r,a)},checkIfAttackable:function(e,t){return!n.find((n=>n[0]===e&&cords[1]===t))},attemptReceiveAttack:function(e,r){return n.push([e,r]),t.receiveAttack(e,r)},checkPlaceable:function(e,n,r,a){return t.checkPlaceable(e,n,r,a)}}}},922:e=>{e.exports=function(e,t,n,r){const a=[];if(console.log({length:e,startPosX:t,startPosY:n}),r)for(let r=n;r<n+e;r++)a.push({x:t,y:r,isHit:!1});else for(let r=t;r<t+e;r++)a.push({x:r,y:n,isHit:!1});return{hit:function(e,t){const n=a.find((n=>n.x===e&&n.y===t));return null!=n&&(n.isHit=!0,!0)},isSunk:function(){let e=!0;return a.forEach((t=>{!1===t.isHit&&(e=!1)})),e},checkAvailable:function(e,t){return null==a.find((n=>n.x===e&&n.y===t))}}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}(()=>{const e=n(874);let t=n(341)(),r=null,a=null;function c(){t.loadGameScreen(i,y,v),t.fadeIn()}function i(t){r=e(t),a=e("Computer")}function l(){t.fadeOut(c)}function o(e){}function u(e){e.target.style.opacity=0,e.dataTransfer.effectAllowed="move"}function d(e){e.target.style.opacity=1}function s(e){}function f(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function p(e){let n=Number(e.target.dataset.x),a=Number(e.target.dataset.y),c=Number(t.getCurrentShip().dataset.length);r.checkPlaceable(c,n,a,t.placementIsVertical())&&(t.placeShipOnGrid(n,a,t.placementIsVertical()),r.attemptPlaceShip(c,n,a,t.placementIsVertical()))}function m(e){let n=Number(e.target.dataset.x),a=Number(e.target.dataset.y),c=Number(t.getCurrentShip().dataset.length);r.checkPlaceable(c,n,a,t.placementIsVertical())?e.target.style.background="green":e.target.style.background="red"}function h(e){e.target.style.background="inherit"}function g(e){e.addEventListener("click",l)}function y(e){e.addEventListener("dragstart",u),e.addEventListener("drag",o),e.addEventListener("dragend",d),e.addEventListener("dragover",s)}function v(e){e.addEventListener("dragover",f),e.addEventListener("drop",p),e.addEventListener("dragenter",m),e.addEventListener("dragleave",h)}setTimeout((function(){t.loadStartScreen(g),t.fadeIn()}),300),setTimeout(t.fadeInLogo,300)})()})();